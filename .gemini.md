# Day To Us - AI Assistant Context

> Quick reference for AI assistants working on this project.

## Project Info

**Day To Us** - PWA built with React 19 + TypeScript + Vite 7

### Tech Stack
- React 19.2.0 + TypeScript 5.9.3
- Vite 7.3.1 (build tool)
- vite-plugin-pwa 1.2.0 (PWA support)
- ESLint 9.39.1

## Project Structure (Best Practices)

```
day-to-us-frontend/
├── public/                  # Static assets (served as-is)
│   ├── favicon.svg         # Browser favicon
│   ├── pwa-192x192.svg     # PWA icon 192x192
│   └── pwa-512x512.svg     # PWA icon 512x512
├── src/
│   ├── assets/             # React-imported assets (images, fonts)
│   ├── components/         # Reusable UI components
│   ├── hooks/              # Custom React hooks
│   ├── types/              # TypeScript type definitions
│   ├── utils/              # Utility functions
│   ├── App.tsx             # Main component
│   ├── main.tsx            # Entry point
│   └── vite-env.d.ts       # Vite type definitions
├── index.html              # HTML entry point
├── vite.config.ts          # Vite + PWA configuration
├── tsconfig.json           # TypeScript root config
├── tsconfig.app.json       # App TypeScript config
├── tsconfig.node.json      # Build tools TypeScript config
└── package.json            # Dependencies
```

## TypeScript Best Practices

### File Extensions
- **`.tsx`**: All files containing JSX/React components
- **`.ts`**: Utility functions, types, non-React code
- **`.d.ts`**: Type declaration files

### Type Definitions
```typescript
// Always type component props
interface ButtonProps {
  label: string
  onClick: () => void
  disabled?: boolean
}

function Button({ label, onClick, disabled }: ButtonProps) {
  return <button onClick={onClick} disabled={disabled}>{label}</button>
}

// Use type imports
import type { FC, ReactNode } from 'react'
```

### tsconfig.json Configuration
```json
{
  "compilerOptions": {
    "lib": ["dom", "dom.iterable", "esnext"],
    "jsx": "preserve",
    "strict": true,
    "types": ["vite/client"]  // For Vite environment
  }
}
```

## Vite Best Practices

### Path Aliases
Configure in `vite.config.ts` for cleaner imports:
```typescript
import path from 'path'

export default defineConfig({
  resolve: {
    alias: {
      '@': path.resolve(__dirname, './src'),
      '@components': path.resolve(__dirname, './src/components'),
      '@hooks': path.resolve(__dirname, './src/hooks'),
      '@utils': path.resolve(__dirname, './src/utils'),
    }
  }
})
```

### Environment Variables
- Prefix with `VITE_` for client-side access
- Define types in `src/vite-env.d.ts`:
```typescript
interface ImportMetaEnv {
  readonly VITE_APP_TITLE: string
  readonly VITE_API_URL: string
}
```

## React Best Practices

### Component Structure
```typescript
// 1. Imports
import { useState, useEffect } from 'react'
import type { FC } from 'react'
import './ComponentName.css'

// 2. Types
interface Props {
  title: string
}

// 3. Component
export const ComponentName: FC<Props> = ({ title }) => {
  // 4. Hooks
  const [state, setState] = useState<string>('')
  
  // 5. Effects
  useEffect(() => {
    // ...
  }, [])
  
  // 6. Handlers
  const handleClick = () => {
    setState('new value')
  }
  
  // 7. Render
  return <div onClick={handleClick}>{title}</div>
}
```

### Naming Conventions
- **Components**: PascalCase (`UserProfile.tsx`)
- **Hooks**: camelCase with `use` prefix (`useAuth.ts`)
- **Utils**: camelCase (`formatDate.ts`)
- **Types**: PascalCase (`User.types.ts` or `types/User.ts`)
- **Constants**: UPPER_SNAKE_CASE (`API_BASE_URL`)

## PWA Best Practices

### Service Worker Strategies

**Current**: `generateSW` (auto-generated)
**Alternative**: `injectManifest` (custom control)

```typescript
// For custom service worker
VitePWA({
  strategies: 'injectManifest',
  srcDir: 'src',
  filename: 'sw.ts',
  injectManifest: {
    globPatterns: ['**/*.{js,css,html,ico,png,svg}']
  }
})
```

### Caching Strategies
- **Static assets**: Precache (all JS/CSS/HTML)
- **Images**: CacheFirst (fast, stale ok)
- **API calls**: NetworkFirst (fresh data priority)
- **Fonts**: CacheFirst with long expiration

### Icons
- **192x192**: Minimum required size
- **512x512**: Maskable icon for Android
- **Format**: PNG preferred (SVG for dev only)
- **Purpose**: `any maskable` for adaptive icons

## ESLint Best Practices

### Recommended Configuration
```javascript
import tseslint from 'typescript-eslint'
import reactX from 'eslint-plugin-react-x'

export default defineConfig([
  {
    files: ['**/*.{ts,tsx}'],
    extends: [
      tseslint.configs.recommendedTypeChecked,
      reactX.configs['recommended-typescript']
    ],
    languageOptions: {
      parserOptions: {
        project: ['./tsconfig.app.json'],
        tsconfigRootDir: import.meta.dirname
      }
    }
  }
])
```

## Coding Conventions

### Imports Order
1. React imports
2. Third-party libraries
3. Internal components
4. Types
5. Styles

```typescript
import { useState } from 'react'
import { format } from 'date-fns'
import { Button } from '@/components/Button'
import type { User } from '@/types/User'
import './App.css'
```

### File Organization
- One component per file
- Co-locate tests: `Button.tsx` + `Button.test.tsx`
- Co-locate styles: `Button.tsx` + `Button.css`
- Group related files in folders

### TypeScript Rules
- ✅ Use `interface` for object shapes
- ✅ Use `type` for unions/intersections
- ✅ Avoid `any` - use `unknown` if needed
- ✅ Enable strict mode
- ✅ Type all function parameters and returns

## Common Tasks

### Add New Component
```bash
src/components/
├── Button/
│   ├── Button.tsx
│   ├── Button.css
│   ├── Button.test.tsx
│   └── index.ts  # Re-export
```

### Add Path Alias
1. Update `vite.config.ts` → `resolve.alias`
2. Update `tsconfig.json` → `compilerOptions.paths`
3. Restart dev server

### Update PWA Config
1. Edit `vite.config.ts` → `VitePWA()` options
2. Rebuild or restart dev server
3. Test in DevTools → Application

## Performance Tips

- Use `React.lazy()` for code splitting
- Optimize images (WebP format)
- Enable Vite build optimizations
- Use service worker for offline caching
- Minimize bundle size with tree-shaking

## Notes

- Node.js 22.0.0 (upgrade to 22.12+ recommended)
- Service worker: auto-generated by vite-plugin-pwa
- HMR: Enabled by default in dev mode
- Build target: `esnext` for modern browsers

---

*Last updated: 2026-01-14*
*Based on official docs from Vite, React, and vite-plugin-pwa*
